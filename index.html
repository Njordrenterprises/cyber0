<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Framework</title>
    <!-- Base Styles -->
    <link rel="stylesheet" href="/main.css">
    <link rel="stylesheet" href="/src/cards/cards.css">
    <link rel="stylesheet" href="/src/cards/info/info.css">
    <link rel="stylesheet" href="/src/modals/modal.css">
    
    <!-- Client Scripts -->
    <script src="/js/htmx.min.js"></script>
    <script defer src="/js/alpine.min.js"></script>
    
    <style>
        :root {
            /* Colors */
            --primary: #4f46e5;
            --primary-dark: #4338ca;
            --primary-light: #818cf8;
            --bg-color: #ffffff;
            --text-color: #1f2937;
            --text-muted: #6b7280;
            --border-color: #e5e7eb;
            --hover-color: #f3f4f6;
            --input-bg: #f9fafb;

            /* Spacing */
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 1.5rem;
            --spacing-xl: 2rem;

            /* Borders */
            --border-radius: 0.5rem;
            --border-radius-sm: 0.25rem;

            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
        }

        body {
            margin: 0;
            padding: 0;
            font-family: system-ui, -apple-system, sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
        }

        .view {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-lg);
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: var(--spacing-lg);
            margin-top: var(--spacing-lg);
        }

        .card-wrapper {
            min-height: 400px;
            border-radius: var(--border-radius);
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div id="app"></div>
    <script>
        // Initialize cardData
        window.cardData = window.cardData || {};
        
        // Load the view after Alpine.js is ready
        function loadView() {
            const app = document.getElementById('app');
            fetch('/views/home')
                .then(response => response.text())
                .then(html => {
                    // Extract and evaluate scripts first
                    const scriptContent = html.match(/<script>([\s\S]*?)<\/script>/)?.[1] || '';
                    const cleanHtml = html.replace(/<script>[\s\S]*?<\/script>/, '');
                    
                    // Evaluate scripts
                    eval(scriptContent);
                    
                    // Set the HTML content
                    app.innerHTML = cleanHtml;
                });
        }

        // Wait for Alpine.js to be ready
        if (typeof Alpine === 'undefined') {
            document.addEventListener('alpine:init', loadView);
        } else {
            loadView();
        }
    </script>
</body>
</html> 